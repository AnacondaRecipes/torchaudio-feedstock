From: Daniel Petry <dpetry@anaconda.com>
Subject: [PATCH 4/5] Add CUDA-specific CMake variables

---
 tools/setup_helpers/extension.py | 4 ++++
 1 file changed, 4 insertions(+)

Index: audio/tools/setup_helpers/extension.py
===================================================================
--- audio.orig/tools/setup_helpers/extension.py	2025-05-05 10:15:31.831261947 -0500
+++ audio/tools/setup_helpers/extension.py	2025-05-05 10:17:18.986282706 -0500
@@ -144,6 +144,11 @@
         ]
         if "CMAKE_ARGS" in os.environ:
             cmake_args += shlex.split(os.environ["CMAKE_ARGS"])
+        if _USE_CUDA:
+            cmake_args += [
+                f"-DCUDA_TOOLKIT_ROOT_DIR={os.environ.get('CUDA_HOME', '')}",
+                f"-DCUDA_INCLUDE_DIRS={os.environ.get('CUDA_HOME', '')}/include",
+            ]
 
         build_args = ["--target", "install"]
         # Pass CUDA architecture to cmake
